(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{274:function(t,e,r){t.exports=r.p+"img/cudua-logo-icon.c64cfb8.svg"},278:function(t,e,r){t.exports=r.p+"img/banner-image.e4389c3.jpg"},330:function(t,e,r){"use strict";r.r(e);var o=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"sign-up-logo"},[e("img",{attrs:{src:r(274)}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"instruction-area"},[e("div",{staticClass:"sign-up-banner"},[e("img",{attrs:{src:r(278),alt:""}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loader-action"},[e("span",{staticClass:"loader"})])}],n=(r(34),r(16),r(17),r(12),r(29),r(176),r(37),r(8)),l=r(9),d=r(15),c=r(126),m=r(125);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var h,f={name:"CREATEACCOUNT",components:{NOTIFICATION:c.a},data:function(){return{anonymousId:"",fullname:"",email:"",password:"",error:0,isDisabled:!1}},created:function(){},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(d.c)({GetAnonymousId:"customer/GetAnonymousId"})),methods:{addRedBorder:function(t){document.getElementById(t).style.border="1px solid #B82E24"},removeRedBorder:function(t){document.getElementById(t).style.border="0px"},outputValidationError:function(t,e){document.getElementById(t).style.display="block",document.getElementById(t).innerHTML="",document.getElementById(t).innerHTML=e},removeValidationError:function(t){document.getElementById(t).style.display="none"},validateUser:function(){this.error=0,this.fullname.length<3?(this.addRedBorder("signUpFullname"),this.outputValidationError("fullnameValidationError","Your fullname must be greater than 2 characters"),this.error=1):(this.removeRedBorder("signUpFullname"),this.removeValidationError("fullnameValidationError")),this.email.length<5?(this.addRedBorder("signUpEmail"),this.outputValidationError("emailValidationError","Enter a valid email address"),this.error=1):(this.removeRedBorder("signUpEmail"),this.removeValidationError("emailValidationError")),this.password.length<6?(this.addRedBorder("signUpPassword"),this.outputValidationError("passwordValidationError","Your password must be greater than 5 characters"),this.error=1):(this.removeRedBorder("signUpPassword"),this.removeValidationError("passwordValidationError")),this.error?this.$showToast("An input error occurred. Find error and make corrections to continue","error"):(this.isDisabled=!0,this.createUser())},createUser:(h=Object(n.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$apollo.mutate({mutation:m.b,variables:{fullname:this.fullname,email:this.email,password:this.password,anonymousId:this.anonymousId}});case 3:(e=(e=t.sent).data.createUser).success?(this.$store.commit("customer/changeLoginStatus",!0),this.$store.commit("customer/setCustomerData",{fullname:e.userData.fullname,email:e.userData.email,userId:e.userData.userId,userToken:e.userData.accessToken,reviewScore:e.userData.review}),localStorage.removeItem("CUDUA_ANONYMOUS_ID"),this.$store.commit("customer/setAnonymousId",""),this.$initiateNotification("success","Registration successful",e.message),setTimeout((function(){window.location.assign("/")}),1e3)):(-1!=e.message.search("email")&&(this.addRedBorder("signUpEmail"),this.outputValidationError("emailValidationError","This email exists. Choose a different email address")),this.$initiateNotification("error","Registration failed",e.message),this.isDisabled=!1),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),this.isDisabled=!1,console.log(t.t0),this.$initiateNotification("error","Failed request","A network error occurred");case 13:case"end":return t.stop()}}),t,this,[[0,8]])}))),function(){return h.apply(this,arguments)})},mounted:function(){document.querySelector("body").classList.remove("overflow-hidden"),this.anonymousId=this.GetAnonymousId}},y=r(7),component=Object(y.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"customer"},[r("div",{staticClass:"body-container"},[r("div",{staticClass:"sign-up-container"},[r("div",{staticClass:"sign-up-logo-container"},[t._m(0),t._v(" "),r("n-link",{staticClass:"btn btn-primary",attrs:{to:"/"}},[t._v("Home")])],1),t._v(" "),r("div",{staticClass:"sign-up-content"},[t._m(1),t._v(" "),r("div",{staticClass:"sign-up-form-layer"},[r("div",{staticClass:"sign-up-form-wrapper"},[r("div",{staticClass:"create-business-signup"},[r("div",{staticClass:"intent-bg-text"},[t._v("Create your personal account")]),t._v(" "),r("div",{staticClass:"form-control"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.fullname,expression:"fullname"}],staticClass:"input-form",attrs:{type:"text",name:"fullname",id:"signUpFullname",placeholder:"Fullname"},domProps:{value:t.fullname},on:{input:function(e){e.target.composing||(t.fullname=e.target.value)}}}),t._v(" "),r("div",{staticClass:"validation-error-design",attrs:{id:"fullnameValidationError","data-error":"error"}})]),t._v(" "),r("div",{staticClass:"form-control"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"input-form",attrs:{type:"text",name:"email",id:"signUpEmail",placeholder:"Email address"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),r("div",{staticClass:"validation-error-design",attrs:{id:"emailValidationError","data-error":"error"}})]),t._v(" "),r("div",{staticClass:"form-control"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input-form",attrs:{type:"password",name:"password",id:"signUpPassword",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),r("div",{staticClass:"validation-error-design",attrs:{id:"passwordValidationError","data-error":"error"}})]),t._v(" "),r("div",{staticClass:"form-control "},[r("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"button",disabled:t.isDisabled},on:{click:t.validateUser}},[t._v("\n                                Create your account\n                                "),t._m(2)])]),t._v(" "),r("div",{staticClass:"form-control "},[r("n-link",{staticClass:"btn btn-white btn-block",attrs:{to:"/auth/",type:"button","data-trigger":"modal","data-target":"createAccountModal"}},[t._v("Sign in")])],1)])])])]),t._v(" "),r("div",{staticClass:"sign-up-bottom-links"},[r("n-link",{attrs:{to:"/"}},[t._v("Contact support")]),t._v(" "),r("n-link",{attrs:{to:"/"}},[t._v("Privacy | Terms")])],1)])]),t._v(" "),r("NOTIFICATION")],1)}),o,!1,null,null,null);e.default=component.exports}}]);