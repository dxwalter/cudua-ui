(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{274:function(e,t,n){e.exports=n.p+"img/cudua-logo-icon.c64cfb8.svg"},278:function(e,t,n){e.exports=n.p+"img/banner-image.e4389c3.jpg"},323:function(e,t,n){"use strict";n.r(t);var r=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"sign-up-logo"},[t("img",{attrs:{src:n(274)}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"instruction-area"},[t("div",{staticClass:"sign-up-banner"},[t("img",{attrs:{src:n(278),alt:""}})])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"loader-action"},[t("span",{staticClass:"loader"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"sign-up-bottom-links"},[t("a",{attrs:{href:"#"}},[this._v("Contact support")]),this._v(" "),t("a",{attrs:{href:"#"}},[this._v("Privacy | Terms")])])}],o=(n(34),n(16),n(17),n(12),n(29),n(37),n(8)),l=n(9),c=n(15),d=n(126),m=n(159),v=n(125);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function D(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f,y={name:"LOGIN",components:{NOTIFICATION:d.a,INITCOMPONENT:m.a},data:function(){return{anonymousId:"",email:"",password:"",isDisabled:!1}},computed:D(D({},Object(c.c)({GetAnonymousId:"customer/GetAnonymousId"})),Object(c.d)({setAnonymousId:"customer/setAnonymousId"})),methods:{validateUser:function(){this.email.length<2||this.password.length<2?this.$showToast("Enter your email and password credentials to sign in","error"):(this.isDisabled=!0,this.loginUser())},loginUser:(f=Object(o.a)(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$apollo.query({query:v.d,variables:{email:this.email,password:this.password,anonymousId:this.anonymousId}});case 3:if(t=e.sent,0!=(n=t.data.userLogin).success){e.next=9;break}return this.isDisabled=!1,this.$initiateNotification("error","Failed login",n.message),e.abrupt("return");case 9:this.isDisabled=!1,this.$store.dispatch("customer/changeLoginStatus",!0),this.$store.dispatch("customer/setCustomerData",{fullname:null!=n.userDetails.fullname?n.userDetails.fullname:"",email:null!=n.userDetails.email?n.userDetails.email:"",userId:null!=n.userDetails.userId?n.userDetails.userId:"",phone:null!=n.userDetails.phone?n.userDetails.phone:"",reviewScore:null!=n.userDetails.review?n.userDetails.review:"",displayPicture:null!=n.userDetails.displayPicture?n.userDetails.displayPicture:"",userToken:n.accessToken,emailNotification:n.userDetails.email_notification}),null!=n.businessDetails&&this.setBusinessData(n),localStorage.removeItem("CUDUA_ANONYMOUS_ID"),this.$store.dispatch("customer/setAnonymousId",""),this.$initiateNotification("success","Sign in successful",n.message),setTimeout((function(){window.location.assign("/")}),1e3),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(0),this.isDisabled=!1,this.$initiateNotification("error","Failed request","A network error occurred");case 23:case"end":return e.stop()}}),e,this,[[0,19]])}))),function(){return f.apply(this,arguments)}),setBusinessData:function(e){this.$store.dispatch("business/setBusinessData",{businessId:null!=e.businessDetails.id?e.businessDetails.id:"",businessName:null!=e.businessDetails.businessname?e.businessDetails.businessname:"",username:null!=e.businessDetails.username?e.businessDetails.username:"",logo:null!=e.businessDetails.logo?e.businessDetails.logo:"",coverPhoto:null!=e.businessDetails.coverPhoto?e.businessDetails.coverPhoto:"",description:null!=e.businessDetails.description?e.businessDetails.description:"",reviewScore:null!=e.businessDetails.review?e.businessDetails.review:0}),null!=e.businessDetails.contact&&this.$store.dispatch("business/setBusinessContact",{email:null!=e.businessDetails.contact.email?e.businessDetails.contact.email:"",phone:null!=e.businessDetails.contact.phone?e.businessDetails.contact.phone:[],whatsapp:{phone:e.businessDetails.contact.whatsapp.number,status:e.businessDetails.contact.whatsapp.status}}),null!=e.businessDetails.address&&this.$store.dispatch("business/setBusinessAddress",{number:null!=e.businessDetails.address.number?e.businessDetails.address.number:"",busStop:null!=e.businessDetails.address.busStop?e.businessDetails.address.busStop:"",street:null!=e.businessDetails.address.street?e.businessDetails.address.street:"",community:null!=e.businessDetails.address.community?e.businessDetails.address.community:"",lga:null!=e.businessDetails.address.lga?e.businessDetails.address.lga:"",state:null!=e.businessDetails.address.state?e.businessDetails.address.state:"",country:null!=e.businessDetails.address.country?e.businessDetails.address.country:""}),null!=e.businessDetails.businessCategories&&this.$store.dispatch("business/setBusinessCategories",e.businessDetails.businessCategories)}},mounted:function(){document.querySelector("body").classList.remove("overflow-hidden"),this.anonymousId=this.GetAnonymousId}},w=n(7),component=Object(w.a)(y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"customer"},[n("div",{attrs:{id:"fb-root"}}),e._v(" "),n("script",{attrs:{async:"",defer:"",crossorigin:"anonymous",src:"https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v8.0&appId=1380709488802204&autoLogAppEvents=1",nonce:"6lvOLz9q"}}),e._v(" "),n("div",{staticClass:"body-container"},[n("div",{staticClass:"sign-up-container"},[n("div",{staticClass:"sign-up-logo-container"},[e._m(0),e._v(" "),n("n-link",{staticClass:"btn btn-primary",attrs:{to:"/"}},[e._v("Home")])],1),e._v(" "),n("div",{staticClass:"sign-up-content"},[e._m(1),e._v(" "),n("div",{staticClass:"sign-up-form-layer"},[n("div",{staticClass:"sign-up-form-wrapper"},[n("div",{staticClass:"create-business-signup"},[n("div",{staticClass:"intent-bg-text"},[e._v("Sign into your account")]),e._v(" "),n("div",{staticClass:"form-control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"input-form",attrs:{type:"email",name:"email",placeholder:"Email address"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"form-control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input-form",attrs:{type:"password",name:"password",placeholder:"Password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"form-control "},[n("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"button",disabled:e.isDisabled},on:{click:e.validateUser}},[e._v("\n                                        Sign in\n                                        "),e._m(2)]),e._v(" "),n("div",{staticClass:"fg-password"},[n("n-link",{attrs:{to:"/auth/forgot-password"}},[e._v("Forgot Password?")])],1)]),e._v(" "),n("div",{staticClass:"form-control "},[n("n-link",{staticClass:"btn btn-white btn-block",attrs:{to:"/auth/sign-up",type:"button","data-trigger":"modal","data-target":"createAccountModal"}},[e._v("Create your account")])],1)])])])]),e._v(" "),e._m(3)])]),e._v(" "),n("NOTIFICATION"),e._v(" "),n("INITCOMPONENT")],1)}),r,!1,null,null,null);t.default=component.exports}}]);